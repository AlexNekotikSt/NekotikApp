# Застосування патерну «Зберігач» для віджетів

## Мета

Розробити функціональність, яка дозволяє зберігати поточний стан віджетів (або всієї колекції віджетів) і відновлювати його у разі потреби — наприклад, при скасуванні редагування, відкаті змін або перегляді історії змін.


## Контекст використання

У системі користувач може редагувати вміст або властивості різних віджетів:

- Змінювати текст у `TextWidget`
- Завантажувати нові зображення у `PictureWidget`
- Встановлювати нові значення у `NumericWidget`, `DateWidget`, `FileWidget`

Необхідно мати можливість:

- Зберегти поточний стан віджета або всієї колекції
- Скасувати останні зміни (`Undo`)
- Відновити збережений стан (`Restore`)



## Функціональні вимоги

### Інтерфейс для віджетів

Кожен віджет має реалізувати:

- `CreateMemento()` — створення знімка поточного стану
- `RestoreFromMemento(memento)` — відновлення збереженого стану

### Клас `Memento`

- Інкапсулює стан одного віджета або колекції
- Не надає прямого доступу до свого вмісту

### Клас `Caretaker`

- Зберігає стек знімків (`undo history`)
- Підтримує:
  - `Undo()`
  - `Redo()` *(опціонально)*

### Взаємодія

- Перед кожним редагуванням — створюється знімок і зберігається у `Caretaker`
- Під час натискання "Undo" — віджет відновлює попередній стан


## Нефункціональні вимоги

- `Memento` не повинен мати залежностей від бізнес-логіки віджета
- Підтримка необмеженої кількості кроків назад (обмежується лише обсягом пам’яті)
- Можливість зберігати як окремі віджети, так і всю колекцію (сценарій "глобального відкату")

